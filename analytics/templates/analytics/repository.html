{% extends 'analytics/main.html' %}
{% load static %}
{% block main %}
    <!-- Content Start -->
    <div class="content">
        <!-- Navbar Start -->
        {% include 'analytics/nav.html' %}
        <!-- Navbar End -->
        <div class="container-fluid pt-3 px-3">
            <div class="row mb-3 px-2">
                <div class="col-12 card shadow-sm bg-secondary border-0 p-4">
                    <h1 class="text-primary mb-3 d-flex align-items-center gap-2">
                        <i class="fas fa-database"></i>
                        PostgreSQL Data Infrastructure
                    </h1>
                    <p class="text-muted small">
                        All analytical data including simulations, configurations, system parameters, and user-generated insights
                        are securely managed within a <strong>dedicated PostgreSQL database</strong> enhanced by <strong>TimescaleDB</strong> for time-series optimization.
                        This architecture combines the reliability of a relational model with the scalability required for complex solar performance analytics.
                    </p>
                    <p class="text-muted small">
                        Each record is indexed and versioned to ensure <strong>data integrity, consistency, and auditability</strong>.
                        Real-time queries and aggregations are optimized through efficient caching, schema partitioning, and query planning. You can
                        visualize and make informed decisions instantly.
                    </p>
                    <p class="text-muted small">
                        You retain <strong>complete ownership and control</strong> over your data.
                        Projects can be exported in <strong>JSON</strong> format at any time. No user data is ever shared, monetized,
                        or used for model training. This privacy-first infrastructure supports <strong>enterprise-grade reliability</strong> and
                        transparent, open-source data management within the Solarize ecosystem.
                    </p>
                </div>
            </div>
            <div class="row">
                <!-- Sidebar: Project Navigation & Storage -->
                <div class="col-12 col-xl-3 mb-4 mb-xl-0">
                    <!-- Storage Overview -->
                    <div class="card border-0 shadow-sm bg-secondary">
                        <div class="card-body p-4">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5 class="mb-0 text-warning d-flex align-items-center gap-2">
                                    <i class="fas fa-database"></i> Database Storage
                                </h5>
                                <span class="badge bg-dark text-success small px-2 py-1">PostgreSQL</span>
                            </div>
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="d-flex align-items-center gap-2">
                                    <i class="fas fa-folder text-primary"></i>
                                    <div>
                                        <strong class="text-light">28</strong>
                                        <small class="text-muted d-block">Projects</small>
                                    </div>
                                </div>
                                <span class="badge bg-dark text-success">Unlimited</span>
                            </div>
                            <div class="progress mt-3" style="height: 6px; background-color: #333;">
                                <div class="progress-bar bg-gradient bg-success"
                                     role="progressbar"
                                     style="width: 15%"
                                     aria-valuenow="15"
                                     aria-valuemin="0"
                                     aria-valuemax="100"></div>
                            </div>
                            <small class="text-muted d-block mt-2">
                                <i class="fas fa-shield-alt text-success me-1"></i>
                                Encrypted at rest â€¢ Auto-backups enabled
                            </small>
                            <hr class="border-secondary opacity-25">
                            <div class="mb-3">
                                <div class="d-flex align-items-center justify-content-between small">
                                    <div class="d-flex align-items-center gap-2">
                                        <i class="fas fa-solar-panel text-success"></i>
                                        <div>Simulations</div>
                                    </div>
                                    <div class="text-muted">142</div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex align-items-center justify-content-between small">
                                    <div class="d-flex align-items-center gap-2">
                                        <i class="fas fa-cog text-info"></i>
                                        <div>Configurations</div>
                                    </div>
                                    <div class="text-muted">89</div>
                                </div>
                            </div>
                            <div class="mt-4 text-center">
                                <small class="text-muted">
                                    <i class="fas fa-info-circle me-1"></i>
                                    All data is stored serverside
                                </small>
                            </div>
                        </div>
                    </div>
                    <!-- Navigation Menu -->
                    <div class="card border-0 shadow-sm mt-3">
                        <div class="list-group list-group-flush rounded overflow-hidden">
                            <a href="#"
                               class="list-group-item active d-flex align-items-center gap-2 py-3 bg-secondary">
                                <i class="fas fa-home text-warning"></i> <span>All Projects</span>
                            </a>
                            <a href="#"
                               class="list-group-item d-flex align-items-center gap-2 py-3 bg-secondary">
                                <i class="fas fa-star text-primary"></i> <span>Favorites</span>
                            </a>
                            <a href="#"
                               class="list-group-item d-flex align-items-center gap-2 py-3 bg-secondary">
                                <i class="fas fa-clock text-info"></i> <span>Recent</span>
                            </a>
                            <a href="#"
                               class="list-group-item d-flex align-items-center gap-2 py-3 bg-secondary">
                                <i class="fas fa-trash text-danger"></i> <span>Trash</span>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Main Content: Project Grid & List -->
                <div class="col-12 col-xl-9 bg-secondary rounded pt-2">
                    <!-- Project Folders -->
                    <h5 class="text-warning mb-3 d-flex align-items-center justify-content-between">
                        <span><i class="fas fa-folder me-2"></i> Project Folders</span>
                        <a href="#" class="btn btn-sm btn-outline-light">New Folder</a>
                    </h5>
                    <div class="row g-3 mb-4">
                        <div class="col-6 col-md-4 col-lg-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3 text-center bg-dark">
                                    <i class="fas fa-folder fa-3x text-primary mb-3"></i>
                                    <h6 class="mb-1 text-primary">Europe</h6>
                                    <small class="text-muted">42 projects</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 col-md-4 col-lg-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3 text-center bg-dark">
                                    <i class="fas fa-folder fa-3x text-success mb-3"></i>
                                    <h6 class="mb-1 text-success">North America</h6>
                                    <small class="text-muted">38 projects</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 col-md-4 col-lg-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3 text-center bg-dark">
                                    <i class="fas fa-folder fa-3x text-warning mb-3"></i>
                                    <h6 class="mb-1 text-warning">Asia-Pacific</h6>
                                    <small class="text-muted">29 projects</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 col-md-4 col-lg-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3 text-center bg-dark">
                                    <i class="fas fa-folder fa-3x text-info mb-3"></i>
                                    <h6 class="mb-1 text-info">Templates</h6>
                                    <small class="text-muted">12 configs</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Recent Projects Table -->
                    <div class="card border-0 shadow-sm bg-dark">
                        <div class="card-body p-4">
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <h5 class="mb-0 text-warning">
                                    <i class="fas fa-history me-2"></i> Recent Simulations
                                </h5>
                                <a href="#" class="btn btn-sm btn-outline-light">View All</a>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover align-middle mb-0">
                                    <thead class="text-muted small">
                                        <tr>
                                            <th>Name</th>
                                            <th>Location</th>
                                            <th>Type</th>
                                            <th>Yield (kWh/kWp)</th>
                                            <th>Last Modified</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody class="small">
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="fas fa-home text-primary"></i>
                                                    <strong>Berlin Residential</strong>
                                                </div>
                                            </td>
                                            <td>Berlin, DE</td>
                                            <td>Fixed Mount</td>
                                            <td>
                                                <span class="badge bg-success">1,180</span>
                                            </td>
                                            <td>2 hours ago</td>
                                            <td>
                                                <div class="dropdown">
                                                    <a href="#" data-bs-toggle="dropdown"><i class="fas fa-ellipsis-v text-muted"></i></a>
                                                    <ul class="dropdown-menu dropdown-menu-end bg-dark border-secondary">
                                                        <li>
                                                            <a class="dropdown-item text-light" href="#">Open</a>
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item text-light" href="#">Duplicate</a>
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item text-light" href="#">Export JSON</a>
                                                        </li>
                                                        <li>
                                                            <hr class="dropdown-divider border-secondary">
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item text-danger" href="#">Delete</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="fas fa-sync text-info"></i>
                                                    <strong>Phoenix Tracker</strong>
                                                </div>
                                            </td>
                                            <td>Phoenix, AZ</td>
                                            <td>1-Axis</td>
                                            <td>
                                                <span class="badge bg-info">1,920</span>
                                            </td>
                                            <td>5 hours ago</td>
                                            <td>
                                                <i class="fas fa-ellipsis-v text-muted"></i>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="fas fa-layer-group text-warning"></i>
                                                    <strong>Atacama Bifacial</strong>
                                                </div>
                                            </td>
                                            <td>Antofagasta, CL</td>
                                            <td>Dual-Axis</td>
                                            <td>
                                                <span class="badge bg-warning">2,410</span>
                                            </td>
                                            <td>1 day ago</td>
                                            <td>
                                                <i class="fas fa-ellipsis-v text-muted"></i>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="fas fa-home text-success"></i>
                                                    <strong>Madrid Rooftop</strong>
                                                </div>
                                            </td>
                                            <td>Madrid, ES</td>
                                            <td>Fixed</td>
                                            <td>
                                                <span class="badge bg-success">1,650</span>
                                            </td>
                                            <td>3 days ago</td>
                                            <td>
                                                <i class="fas fa-ellipsis-v text-muted"></i>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="fas fa-industry text-primary"></i>
                                                    <strong>Dubai Solar Park</strong>
                                                </div>
                                            </td>
                                            <td>Dubai, UAE</td>
                                            <td>1-Axis</td>
                                            <td>
                                                <span class="badge bg-primary">2,080</span>
                                            </td>
                                            <td>1 week ago</td>
                                            <td>
                                                <i class="fas fa-ellipsis-v text-muted"></i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% include 'analytics/footer.html' %}
    </div>
{% endblock %}
